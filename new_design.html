<!DOCTYPE html>
<html>

<head>
    <title>Basic Fantasy RPG Character Sheet</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/new_design.css">
</head>

<body>
    <!-- <h1>Basic Fantasy RPG Character Sheet</h2> -->
    <div class="content">
        <div><b>Info</b></div>
        <div class="box">
            <div class="row">
                <div class="block">
                    <div class="form-group">
                        <div class="block"><b>Name</b></div>
                        <span><input type=text name="attr_name" /></span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="block">
                    <div class="block"><b>Race</b></div>
                    <select id="character_race_select">
                        <option value="Human" selected>Human</option>
                        <option value="Elf">Elf</option>
                        <option value="Dwarf">Dwarf</option>
                        <option value="Halfling">Halfling</option>
                    </select>
                </div>
                <div class="block">
                    <div class="block"><b>Class</b></div>
                    <select id="character_class_select">
                        <option value="Fighter" selected>Fighter</option>
                        <option value="Mage">Mage</option>
                        <option value="Thief">Thief</option>
                        <option value="Cleric">Cleric</option>
                        <option value="FighterMage" disabled>FighterMage</option>
                    </select>
                </div>
                <div class="block">
                    <div class="form-group">
                        <b>Experience</b>
                        <input name="attr_currentxp" type="text">
                    </div>
                </div>
                <div class="block">
                    <div class="block"><b>Level</b></div>
                    <select id="character_level_select">
                        <option value="1" selected>1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                        <option value="6">6</option>
                        <option value="7">7</option>
                        <option value="8">8</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                        <option value="16">16</option>
                        <option value="17">17</option>
                        <option value="18">18</option>
                        <option value="19">19</option>
                        <option value="20">20</option>
                    </select>
                </div>
            </div>
                <!-- </ol>
                <b>Combat</b>
                <table width=100% height=100%>
                    <tr>
                        <td>Armour Class:</td>
                        <td>
                            <input name="attr_ac" style="width: 14em;" type="text">
                            &nbsp;
                            <td><span id="ac_bonus">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td>Hit Points:</td>
                        <td>
                            <input name="attr_hp" style="width: 7em;" type="text">
                            &nbsp;
                            <td><span id="hit_points">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td>Attack Bonus:</td>
                        <td>
                            <td><span id="base_attack_bonus">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td class="sheet-nowrap">&nbsp; Melee:</td>
                        <td>
                            <td><span id="melee_attack_bonus">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td class="sheet-nowrap">&nbsp; Missile:</td>
                        <td>
                            <td><span id="ranged_attack_bonus">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td>Movement</td>
                        <td colspan=2>
                            <input name="attr_movement" type="text">
                        </td>
                    </tr>
                </table>
            </td>
        </tr> -->
            </div>
            <div class="row">
                <div class="block">
                    <b>Attributes</b>
                    <div class="box">
                        <ul>
                            <li>
                                <div class=row>
                                    <b>Strength</b>
                                    <select id="character_strength_select">
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10" selected>10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                        <option value="13">13</option>
                                        <option value="14">14</option>
                                        <option value="15">15</option>
                                        <option value="16">16</option>
                                        <option value="17">17</option>
                                        <option value="18">18</option>
                                    </select>
                                </div>
                            </li>
                            <li>
                                <div class=row>
                                    <b>Intelligence</b>
                                    <select id="character_intelligence_select">
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10" selected>10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                        <option value="13">13</option>
                                        <option value="14">14</option>
                                        <option value="15">15</option>
                                        <option value="16">16</option>
                                        <option value="17">17</option>
                                        <option value="18">18</option>
                                    </select>
                                </div>
                            </li>
                            <li>
                                <div class=row>
                                    <b>Wisdom</b>
                                    <select id="character_wisdom_select">
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10" selected>10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                        <option value="13">13</option>
                                        <option value="14">14</option>
                                        <option value="15">15</option>
                                        <option value="16">16</option>
                                        <option value="17">17</option>
                                        <option value="18">18</option>
                                    </select>
                                </div>
                            </li>
                            <li>
                                <div class=row>
                                    <b>Dexterity</b>
                                    <select id="character_dexterity_select">
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10" selected>10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                        <option value="13">13</option>
                                        <option value="14">14</option>
                                        <option value="15">15</option>
                                        <option value="16">16</option>
                                        <option value="17">17</option>
                                        <option value="18">18</option>
                                    </select>
                                </div>
                            </li>
                            <li>
                                <div class=row>
                                    <div class="block"><b>Constitution</b></div>
                                    <select id="character_constitution_select">
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10" selected>10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                        <option value="13">13</option>
                                        <option value="14">14</option>
                                        <option value="15">15</option>
                                        <option value="16">16</option>
                                        <option value="17">17</option>
                                        <option value="18">18</option>
                                    </select>
                                </div>
                            </li>
                            <li>
                                <div class=row>
                                    <b>Charisma</b>
                                    <select id="character_charisma_select">
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10" selected>10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                        <option value="13">13</option>
                                        <option value="14">14</option>
                                        <option value="15">15</option>
                                        <option value="16">16</option>
                                        <option value="17">17</option>
                                        <option value="18">18</option>
                                    </select>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="block">
                    <b>Combat</b>
                    <div class="box">
                        <ul>
                            <li>
                                <div class="row">
                                    <b>Armour Class:</b>
                                    <input name="attr_ac" style="width: 14em;" type="text">
                                        &nbsp;
                                    <span id="ac_bonus">0</span>
                                </div>
                            </li>
                            <li>
                                <div class="row">
                                    <b>Hit Points:</b>
                                    <input name="attr_hp" style="width: 7em;" type="text">
                                    &nbsp;
                                    <span id="hit_points">0</span>
                                </div>
                            </li>
                            <li>
                                <td>Attack Bonus:</td>
                                <td>
                                    <td><span id="base_attack_bonus">0</span></td>
                                </td>
                            </li>
                            <li>
                                <td class="sheet-nowrap">&nbsp; Melee:</td>
                                <td>
                                    <td><span id="melee_attack_bonus">0</span></td>
                                </td>
                            </li>
                            <li>
                                <td class="sheet-nowrap">&nbsp; Missile:</td>
                                <td>
                                    <td><span id="ranged_attack_bonus">0</span></td>
                                </td>
                            </li>
                            <li>
                                <td>Movement</td>
                                <td colspan=2>
                                    <input name="attr_movement" type="text">
                                </td>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- <table>
        <tr><td colspan=2><br></td></tr>
        <tr>
            <td>
                <b>Attributes</b>
                <table width=100% height=100%>
                    <tr>
                        <td>Strength</td>
                        <td>
                            <select id="character_strength_select">
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10" selected>10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                            </select>
                        </td>
                        <td><input type=number width=5 style='width: 5em;' name="attr_STRbonus" /></td>
                    </tr>
                    <tr>
                        <td>Intelligence</td>
                        <td>
                            <select id="character_intelligence_select">
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10" selected>10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                            </select>
                        </td>
                        <td><input type=number width=5 style='width: 5em;' name="attr_INTbonus" /></td>
                    </tr>
                    <tr>
                        <td>Wisdom</td>
                        <td>
                            <select id="character_wisdom_select">
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10" selected>10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                            </select>
                        </td>
                        <td><input type=number width=5 style='width: 5em;' name="attr_WISbonus" /></td>
                    </tr>
                    <tr>
                        <td>Dexterity</td>
                        <td>
                            <select id="character_dexterity_select">
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10" selected>10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                            </select>
                        </td>
                        <td><input type=number width=5 style='width: 5em;' name="attr_DEXbonus" /></td>
                    </tr>
                    <tr>
                        <td>Constitution</td>
                        <td>
                            <select id="character_constitution_select">
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10" selected>10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                            </select>
                        </td>
                        <td><input type=number width=5 style='width: 5em;' name="attr_CONbonus" /></td>
                    </tr>
                    <tr>
                        <td>Charisma</td>
                        <td>
                            <select id="character_charisma_select">
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10" selected>10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                                <option value="13">13</option>
                                <option value="14">14</option>
                                <option value="15">15</option>
                                <option value="16">16</option>
                                <option value="17">17</option>
                                <option value="18">18</option>
                            </select>
                        </td>
                        <td><input type=number width=5 style='width: 5em;' name="attr_CHAbonus" /></td>
                    </tr>
                </table>
            </td>
            <td>
                <b>Combat</b>
                <table width=100% height=100%>
                    <tr>
                        <td>Armour Class:</td>
                        <td>
                            <input name="attr_ac" style="width: 14em;" type="text">
                            &nbsp;
                            <td><span id="ac_bonus">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td>Hit Points:</td>
                        <td>
                            <input name="attr_hp" style="width: 7em;" type="text">
                            &nbsp;
                            <td><span id="hit_points">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td>Attack Bonus:</td>
                        <td>
                            <td><span id="base_attack_bonus">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td class="sheet-nowrap">&nbsp; Melee:</td>
                        <td>
                            <td><span id="melee_attack_bonus">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td class="sheet-nowrap">&nbsp; Missile:</td>
                        <td>
                            <td><span id="ranged_attack_bonus">0</span></td>
                        </td>
                    </tr>
                    <tr>
                        <td>Movement</td>
                        <td colspan=2>
                            <input name="attr_movement" type="text">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr><td colspan=2><br></td></tr>
        <tr>
            <td colspan=2>
                <b>Equipment</b>
                <br>
                <textarea name="attr_equipment"></textarea>
            </td>
        </tr>
        <tr>
            <td>
                <b>Thief Abilities</b>
                <table width=100% class=thiefabilities>
                    <tbody>
                        <tr>
                            <td><strong>Open Locks:</strong></td>
                            <td><span id="openLocks">0</span></td>
                        </tr>
                        <tr>
                            <td><strong>Remove Traps:</strong></td>
                            <td><span id="removeTraps">0</span></td>
                        </tr>
                        <tr>
                            <td><strong>Pick Pockets:</strong></td>
                            <td><span id="pickPockets">0</span></td>
                        </tr>
                        <tr>
                            <td><strong>Move Silently:</strong></td>
                            <td><span id="moveSilently">0</span></td>
                        </tr>
                        <tr>
                            <td><strong>Climb Walls:</strong></td>
                            <td><span id="climbWalls">0</span></td>
                        </tr>
                        <tr>
                            <td><strong>Hide:</strong></td>
                            <td><span id="hide">0</span></td>
                        </tr>
                        <tr>
                            <td><strong>Listen:</strong></td>
                            <td><span id="listen">0</span></td>
                        </tr>
                    </tbody>
                </table>

                <b>Spells per Level</b>
                <div class="callout" id="spells_list">
                    <span id="spells_per_level">None</span>
                </div>
                <textarea name="attr_spells"></textarea>
        </td>
        <td>
            <b>Saving Throws</b>
            <table class="sheet-savingthrows" style="width: 100%;">
                <tr>
                    <td width="99%">
                        Death Ray or Poison:
                    </td>
                    <td width="1">
                    <td><span id="death">0</span></td>
                </tr>
                <tr>
                    <td>
                        Magic Wands:
                    </td>
                    <td>
                    <td><span id="wands">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Paralysis or Turn to Stone:
                    </td>
                    <td>
                    <td><span id="paralysis">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Dragon Breath:
                    </td>
                    <td>
                    <td><span id="breath">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Rods, Staves, and Spells:
                    </td>
                    <td>
                    <td><span id="spells">0</span></td>
                    </td>
                </tr>
            </table>

            <b>Turn Undead:</b>
            <table class="sheet-turnundead" style="width: 100%;">
                <tr>
                    <td width="99%">
                        Skeleton:
                    </td>
                    <td width="1">
                    <td><span id="skeleton">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Zombie:
                    </td>
                    <td>
                    <td><span id="zombie">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Ghoul:
                    </td>
                    <td>
                    <td><span id="ghoul">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Wight:
                    </td>
                    <td>
                    <td><span id="wight">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Wraith:
                    </td>
                    <td>
                    <td><span id="wraith">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Mummy:
                    </td>
                    <td>
                    <td><span id="mummy">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Spectre:
                    </td>
                    <td>
                    <td><span id="spectre">0</span></td>
                    </td>
                </tr>
                <tr>
                    <td>
                        Vampire:
                    </td>
                    <td>
                    <td><span id="vampire">0</span></td>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
    <tr>
        <td colspan=2>
            <b>Special Abilities</b>
            <div class="callout" id="special_abilities">
        </td>
    </tr>
    <tr><td colspan=2><br></td></tr>
    </table> -->
    <br>
    <div>
        <input type="button" class="button" id="roll_ability_scores" value="Roll Scores" />
        <input type="checkbox" id="switch_primary" style="margin-left: 15px" onclick="toggleSwitchPrimary()"><label
            for="switch_primary">Switch highest score with Primary attribute.</label>
    </div>
    <div>
        <p>created by vori</p>
    </div>
    <script src="js/vendor/jquery.js"></script>
    <script src="js/BasicFantasyCharGenerator.js"></script>
    <script>
        var cg = new BasicFantasyCharGenerator();
        function capitalizeFirstLetter(value) {
            return value.charAt(0).toUpperCase() + value.slice(1);
        }

        function setSpecialAbilities() {
            var tag = $("#special_abilities");
            tag.html("");
            for (x = 0; x < cg.specialAbilities.length; x++) {
                tag.append("* " + cg.specialAbilities[x] + "<br>");
            }
        }

        function storeSheet() {
            console.log("storesheet")
            var obj = {
                'race': cg.race,
                'class': cg.class,
                'level': cg.level,
                'attributes': {
                    'strength': cg.attributes.Strength.score,
                    'intelligence': cg.attributes.Intelligence.score,
                    'wisdom': cg.attributes.Wisdom.score,
                    'dexterity': cg.attributes.Dexterity.score,
                    'constitution': cg.attributes.Constitution.score,
                    'charisma': cg.attributes.Charisma.score
                }
            }
            json = JSON.stringify(obj)
            localStorage.setItem('cgJSON', json);
        }

        function loadSheet() {
            json = JSON.parse(localStorage.getItem('cgJSON'))
            $("#character_race_select").val(json.race);
            $("#character_strength_select").val(json.attributes.strength);
            $("#character_dexterity_select").val(json.attributes.dexterity);
            $("#character_constitution_select").val(json.attributes.constitution);
            $("#character_intelligence_select").val(json.attributes.intelligence);
            $("#character_wisdom_select").val(json.attributes.wisdom);
            $("#character_charisma_select").val(json.attributes.charisma);
            cg.setRace(json.race)
            cg.setAttribute("Strength", json.attributes.strength);
            cg.setAttribute("Dexterity", json.attributes.dexterity);
            cg.setAttribute("Constitution", json.attributes.constitution);
            cg.setAttribute("Intelligence", json.attributes.intelligence);
            cg.setAttribute("Wisdom", json.attributes.wisdom);
            cg.setAttribute("Charisma", json.attributes.charisma);
            setSpecialAbilities();
        }

        function updateSheet() {
            reloadClassSelect();
            reloadRaceSelect();
            reloadAbilitySelects();
            $("#base_attack_bonus").html(cg.baseAttackBonus);
            $("#melee_attack_bonus").html(cg.getMeleeAttackBonus());
            $("#ranged_attack_bonus").html(cg.getRangedAttackBonus());
            $("#ac_bonus").html(cg.attributes.Dexterity.bonus);
            $("#hit_points").html(cg.getTotalHP());
            $("#spells_per_level").html(cg.spells);
            $("#death").html(cg.getDeathRaySave());
            $("#wands").html(cg.getMagicWandsSave());
            $("#paralysis").html(cg.getParalysisSave());
            $("#breath").html(cg.getDragonBreathSave());
            $("#spells").html(cg.getSpellsSave());
            $("#skeleton").html(cg.turnUndead.skeleton);
            $("#zombie").html(cg.turnUndead.zombie);
            $("#ghoul").html(cg.turnUndead.ghoul);
            $("#wight").html(cg.turnUndead.wight);
            $("#wraith").html(cg.turnUndead.wraith);
            $("#mummy").html(cg.turnUndead.mummy);
            $("#spectre").html(cg.turnUndead.spectre);
            $("#vampire").html(cg.turnUndead.vampire);
            $("#ghost").html(cg.turnUndead.ghost);
            $("#openLocks").html(cg.thiefSkills.openLocks);
            $("#removeTraps").html(cg.thiefSkills.removeTraps);
            $("#pickPockets").html(cg.thiefSkills.pickPockets);
            $("#moveSilently").html(cg.thiefSkills.moveSilently);
            $("#climbWalls").html(cg.thiefSkills.climbWalls);
            $("#hide").html(cg.thiefSkills.hide);
            $("#listen").html(cg.thiefSkills.listen);
            setSpecialAbilities();
            storeSheet();
        }

        function reloadRaceSelect() {
            $("#character_race_select option").each(function () {
                if (cg.races[$(this).val()].allowedClasses.indexOf(cg.class.name) === -1) {
                    $(this).prop("disabled", true);
                } else {
                    $(this).prop("disabled", false);
                }
            });
        }

        function reloadClassSelect() {
            $("#character_class_select option").each(function () {
                if ((cg.classAllowed($(this).val()) === false && !cg.switchPrimary) ||
                    (cg.classAllowed($(this).val()) === false && $(this).val() == "FighterMage")) {
                    $(this).prop("disabled", true);
                } else {
                    $(this).prop("disabled", false);
                }
            });
        }

        function reloadAbilitySelects() {
            var abilities = ["strength", "dexterity", "constitution", "intelligence", "wisdom", "charisma"];

            abilities.forEach(function (item) {
                var attr = item;
                $("#character_" + attr + "_select option").each(function () {
                    if (cg.abilityAllowed(capitalizeFirstLetter(attr), $(this).val()) === false) {
                        $(this).prop("disabled", true);
                    } else {
                        $(this).prop("disabled", false);
                    }
                    //if (cg.attributes[capitalizeFirstLetter(attr)].score == $(this).val())
                });
            });
        }

        function toggleSwitchPrimary() {
            cg.setSwitchPrimary($("#switch_primary").prop("checked"));
            setAttributes();
        }

        function setAttributes() {
            $("#character_strength_select").val(cg.attributes.Strength.score).change();
            $("#character_dexterity_select").val(cg.attributes.Dexterity.score);
            $("#character_constitution_select").val(cg.attributes.Constitution.score);
            $("#character_intelligence_select").val(cg.attributes.Intelligence.score);
            $("#character_wisdom_select").val(cg.attributes.Wisdom.score);
            $("#character_charisma_select").val(cg.attributes.Charisma.score);
        }

        $(document).ready(function () {
            if (!localStorage.getItem("cgJSON")) {
                cg.setRace("Human");
                cg.setClass("Fighter");
                cg.setLevel(1);
                cg.setAttribute("Strength", 10);
                cg.setAttribute("Dexterity", 10);
                cg.setAttribute("Constitution", 10);
                cg.setAttribute("Intelligence", 10);
                cg.setAttribute("Wisdom", 10);
                cg.setAttribute("Charisma", 10);
            } else {
                loadSheet();
            }
            updateSheet();

            $("#roll_ability_scores").click(function () {
                cg.generateScores();
                if (cg.switchPrimary) cg.switchPrimaryAttribute();
                setAttributes();
                updateSheet();
            });

            $("#character_class_select").change(function () {
                cg.setClass($("#character_class_select").val());
                if (cg.switchPrimary) cg.switchPrimaryAttribute();
                setAttributes();
                updateSheet();
            });

            $("#character_level_select").change(function () {
                cg.setLevel($("#character_level_select").val());
                updateSheet();
            });

            $("#character_race_select").change(function () {
                cg.setRace($("#character_race_select").val());

                updateSheet();
            });

            $("#character_strength_select").change(function () {
                cg.setAttribute("Strength", $("#character_strength_select").val());
                updateSheet();
            });

            $("#character_dexterity_select").change(function () {
                cg.setAttribute("Dexterity", $("#character_dexterity_select").val());
                updateSheet();
            });

            $("#character_constitution_select").change(function () {
                cg.setAttribute("Constitution", $("#character_constitution_select").val());
                updateSheet();
            });

            $("#character_wisdom_select").change(function () {
                cg.setAttribute("Wisdom", $("#character_wisdom_select").val());
                updateSheet();
            });

            $("#character_intelligence_select").change(function () {
                cg.setAttribute("Intelligence", $("#character_intelligence_select").val());
                updateSheet();
            });

            $("#character_charisma_select").change(function () {
                cg.setAttribute("Charisma", $("#character_charisma_select").val());
                updateSheet();
            });
        });
    </script>
</body>
</html>